[
  {
    "name": "CheckCommunityStatus",
    "preAction": [
      {
        "function": "check_user_communities"
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "SingleCommunityMenu": [
          "single_community"
        ]
      },
      {
        "MultipleCommunityMenu": [
          "multiple_communities"
        ]
      },
      {
        "CheckCommunityStatus": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "SingleCommunityMenu",
    "preAction": [
      {
        "text": [
          {
            "en": "üë• You are a part of this community: {{community_name}}\n\nWhat would you like to do?",
            "hi": "üë• ‡§Ü‡§™ ‡§á‡§∏ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ï‡•á ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§π‡•à‡§Ç: {{community_name}}\n\n‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?",
            "default": "üë• You are a part of this community: {{community_name}}"
          }
        ]
      },
      {
        "menu": [
          {
            "label": "Continue with this community",
            "value": "continue_community",
            "description": "Access community features"
          },
          {
            "label": "Join a new community",
            "value": "join_new_community",
            "description": "Add another community"
          }
        ],
        "caption": "Select an option:"
      }
    ],
    "postAction": [],
    "transition": [
      {
        "CommunityActionsMenu": [
          "continue_community"
        ]
      },
      {
        "JoinNewCommunity": [
          "join_new_community"
        ]
      },
      {
        "SingleCommunityMenu": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "MultipleCommunityMenu",
    "preAction": [
      {
        "text": [
          {
            "en": "üë• You accessed community '{{last_community_name}}' last time.\n\nWhat would you like to do?",
            "hi": "üë• ‡§Ü‡§™‡§®‡•á ‡§™‡§ø‡§õ‡§≤‡•Ä ‡§¨‡§æ‡§∞ '{{last_community_name}}' ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§¨‡§®‡§æ‡§à ‡§•‡•Ä‡•§\n\n‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?",
            "default": "üë• You accessed community '{{last_community_name}}' last time."
          }
        ]
      },
      {
        "menu": [
          {
            "label": "Continue with last community",
            "value": "continue_last_community",
            "description": "Access {{last_community_name}}"
          },
          {
            "label": "Choose other community",
            "value": "choose_other_community",
            "description": "Select from your communities"
          },
          {
            "label": "Join a new community",
            "value": "join_new_community",
            "description": "Add another community"
          }
        ],
        "caption": "Select an option:"
      }
    ],
    "postAction": [],
    "transition": [
      {
        "CommunityActionsMenu": [
          "continue_last_community"
        ]
      },
      {
        "SelectCommunityMenu": [
          "choose_other_community"
        ]
      },
      {
        "JoinNewCommunity": [
          "join_new_community"
        ]
      },
      {
        "MultipleCommunityMenu": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "SelectCommunityMenu",
    "preAction": [
      {
        "text": [
          {
            "en": "üë• Select a community to access:",
            "hi": "üë• ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç:",
            "default": "üë• Select a community to access:"
          }
        ]
      },
      {
        "function": "generate_community_list_menu"
      }
    ],
    "postAction": [
      {
        "function": "set_selected_community"
      }
    ],
    "transition": [
      {
        "CommunityActionsMenu": [
          "success"
        ]
      },
      {
        "MultipleCommunityMenu": [
          "back"
        ]
      },
      {
        "SelectCommunityMenu": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "CommunityActionsMenu",
    "preAction": [
      {
        "text": [
          {
            "en": "üè† {{selected_community_name}} - Main Menu\n\nWhat do you want to do?",
            "hi": "üè† {{selected_community_name}} - ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Æ‡•á‡§®‡•Ç\n\n‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?",
            "default": "üè† {{selected_community_name}} - Main Menu"
          }
        ]
      },
      {
        "menu": [
          {
            "label": "Register a work demand",
            "value": "register_work_demand",
            "description": "Submit a new work request"
          },
          {
            "label": "Register a Grievance",
            "value": "register_grievance",
            "description": "Report an issue or complaint"
          },
          {
            "label": "Back to previous menu",
            "value": "back_to_previous",
            "description": "Go back to community selection"
          }
        ],
        "caption": "Select an option:"
      }
    ],
    "postAction": [],
    "transition": [
      {
        "RegisterWorkDemand": [
          "register_work_demand"
        ]
      },
      {
        "RegisterGrievance": [
          "register_grievance"
        ]
      },
      {
        "CheckCommunityStatus": [
          "back_to_previous"
        ]
      },
      {
        "CommunityActionsMenu": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "CommunityInfo",
    "preAction": [
      {
        "text": [
          {
            "en": "üìã Community Information\n\nThis feature is under development. Coming soon!",
            "hi": "üìã ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä\n\n‡§Ø‡§π ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§Ö‡§ß‡•Ä‡§® ‡§π‡•à‡•§ ‡§ú‡§≤‡•ç‡§¶ ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à!",
            "default": "üìã Community Information - Under Development"
          }
        ]
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "MainMenu": [
          "success"
        ]
      },
      {
        "CommunityInfo": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "Updates",
    "preAction": [
      {
        "text": [
          {
            "en": "üì¢ Community Updates\n\nThis feature is under development. Coming soon!",
            "hi": "üì¢ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§Ö‡§™‡§°‡•á‡§ü\n\n‡§Ø‡§π ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§Ö‡§ß‡•Ä‡§® ‡§π‡•à‡•§ ‡§ú‡§≤‡•ç‡§¶ ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à!",
            "default": "üì¢ Community Updates - Under Development"
          }
        ]
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "MainMenu": [
          "success"
        ]
      },
      {
        "Updates": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "Settings",
    "preAction": [
      {
        "text": [
          {
            "en": "‚öôÔ∏è Settings\n\nThis feature is under development. Coming soon!",
            "hi": "‚öôÔ∏è ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏\n\n‡§Ø‡§π ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§Ö‡§ß‡•Ä‡§® ‡§π‡•à‡•§ ‡§ú‡§≤‡•ç‡§¶ ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à!",
            "default": "‚öôÔ∏è Settings - Under Development"
          }
        ]
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "MainMenu": [
          "success"
        ]
      },
      {
        "Settings": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "Help",
    "preAction": [
      {
        "text": [
          {
            "en": "‚ùì Help & Support\n\nThis feature is under development. Coming soon!",
            "hi": "‚ùì ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§î‡§∞ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§®\n\n‡§Ø‡§π ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•á ‡§Ö‡§ß‡•Ä‡§® ‡§π‡•à‡•§ ‡§ú‡§≤‡•ç‡§¶ ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à!",
            "default": "‚ùì Help & Support - Under Development"
          }
        ]
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "MainMenu": [
          "success"
        ]
      },
      {
        "Help": [
          "failure"
        ]
      }
    ]
  }
]
