[
  {
    "name": "CheckCommunityCount",
    "preAction": [
      {
        "function": "get_user_communities"
      }
    ],
    "transition": [
      {
        "SingleCommunityWelcome": [
          "single_community"
        ]
      },
      {
        "MultipleCommunityWelcome": [
          "multiple_communities"
        ]
      },
      {
        "CheckCommunityCount": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "SingleCommunityWelcome",
    "preAction": [
      {
        "function": "display_single_community_message"
      },
      {
        "menu": [
          {
            "label": "‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç",
            "value": "community_selected",
            "caption": "‡§ï‡•ã‡§à ‡§è‡§ï ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç:",
            "description": "‡§Ö‡§™‡§®‡•á ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡•á‡§Ç"
          },
          {
            "label": "‡§®‡§Ø‡§æ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ú‡•â‡§á‡§® ‡§ï‡§∞‡•á‡§Ç",
            "value": "join_new",
            "description": "‡§è‡§ï ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•ã‡§Ç"
          }
        ]
      }
    ],
    "postAction": [
      {
        "function": "store_active_community_and_context"
      }
    ],
    "transition": [
      {
        "ServiceMenuNew": [
          "community_selected"
        ]
      },
      {
        "JumpToOnboarding": [
          "join_new"
        ]
      },
      {
        "SingleCommunityWelcome": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "MultipleCommunityWelcome",
    "preAction": [
      {
        "function": "display_multiple_community_message"
      },
      {
        "menu": [
          {
            "label": "‡§á‡§∏‡•Ä ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç",
            "value": "continue_last",
            "caption": "‡§Ü‡§™ ‡§ï‡•à‡§∏‡•á ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç:",
            "description": "‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡§ø‡§è ‡§ó‡§è ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç"
          },
          {
            "label": "‡§Ö‡§®‡•ç‡§Ø ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç",
            "value": "choose_other",
            "description": "‡§Ö‡§™‡§®‡•á ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ö‡•Å‡§®‡•á‡§Ç"
          },
          {
            "label": "‡§®‡§Ø‡§æ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ú‡•â‡§á‡§® ‡§ï‡§∞‡•á‡§Ç",
            "value": "join_new",
            "description": "‡§è‡§ï ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•ã‡§Ç"
          }
        ]
      }
    ],
    "postAction": [
      {
        "function": "store_active_community_and_context"
      }
    ],
    "transition": [
      {
        "ServiceMenuNew": [
          "continue_last"
        ]
      },
      {
        "CommunitySelectionMenu": [
          "choose_other"
        ]
      },
      {
        "JumpToOnboarding": [
          "join_new"
        ]
      },
      {
        "MultipleCommunityWelcome": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "CommunitySelectionMenu",
    "preAction": [
      {
        "function": "generate_community_menu"
      }
    ],
    "postAction": [
      {
        "function": "store_selected_community_and_context"
      }
    ],
    "transition": [
      {
        "ServiceMenuNew": [
          "continue_single",
          "continue_last_accessed"
        ]
      },
      {
        "CommunitySelectionMenu": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "ServiceMenuNew",
    "preAction": [
      {
        "function": "store_active_community_and_context"
      },
      {
        "text": [
          {
            "en": "üéâ Welcome to your community!\n\nYou can access the following services:",
            "hi": "üéâ ‡§Ü‡§™‡§ï‡•á ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!\n\n‡§Ü‡§™ ‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§∏‡•á‡§µ‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§≤‡§æ‡§≠ ‡§â‡§†‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç:",
            "default": "üéâ Welcome to your community!"
          }
        ]
      },
      {
        "menu": [
          {
            "label": "‡§∏‡§Ç‡§∏‡§æ‡§ß‡§® ‡§Æ‡§æ‡§Ç‡§ó ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
            "value": "work_demand"
          },


          {
            "label": "‡§ï‡§π‡§æ‡§®‡•Ä ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç",
            "value": "story"
          },
          {
            "label": "‡§®‡§Ø‡§æ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ú‡•â‡§á‡§® ‡§ï‡§∞‡•á‡§Ç",
            "value": "join_new_community"
          },
          {
            "label": "‡§ö‡•à‡§ü ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",
            "value": "exit_session"
          }
        ]
      }
    ],
    "postAction": [],
    "transition": [
      {
        "JumpToWorkDemandSMJ": [
          "work_demand"
        ]
      },
      {
        "JumpToWorkDemandStatusSMJ": [
          "work_demand_status"
        ]
      },
      {
        "JumpToGrievanceSMJ": [
          "grievance"
        ]
      },
      {
        "JumpToStorySMJ": [
          "story"
        ]
      },
      {
        "JumpToOnboarding": [
          "join_new_community"
        ]
      },
      {
        "ExitSession": [
          "exit_session"
        ]
      },
      {
        "ServiceMenuNew": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "JumpToOnboarding",
    "preAction": [
      {
        "text": [
          {
            "en": "üîÑ Let's help you join a new community...",
            "hi": "üîÑ ‡§Ü‡§á‡§è ‡§Ü‡§™‡§ï‡•ã ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§∏‡§Æ‡•Å‡§¶‡§æ‡§Ø ‡§ú‡•â‡§á‡§® ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "join_community",
            "initState": "Welcome"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "transition": [
      {
        "JumpToOnboarding": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "JumpToWorkDemandSMJ",
    "preAction": [
      {
        "text": [
          {
            "en": "üìã Opening asset demand registration...",
            "hi": "üìã ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§® ‡§Æ‡§æ‡§Ç‡§ó ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ñ‡•ã‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "work_demand",
            "initState": "WorkDemandWelcome"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "transition": [
      {
        "JumpToWorkDemandSMJ": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "JumpToWorkDemandStatusSMJ",
    "preAction": [
      {
        "text": [
          {
            "en": "üìä Opening asset demand status...",
            "hi": "üìä ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§® ‡§Æ‡§æ‡§Ç‡§ó ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ñ‡•ã‡§≤‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "work_demand_status",
            "initState": "WorkDemandStatusWelcome"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "transition": [
      {
        "JumpToWorkDemandStatusSMJ": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "JumpToStorySMJ",
    "preAction": [
      {
        "text": [
          {
            "en": "üìã Opening story submission...",
            "hi": "üìã ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ñ‡•ã‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "story",
            "initState": "StoryWelcome"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "transition": [
      {
        "JumpToStorySMJ": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "JumpToGrievanceSMJ",
    "preAction": [
      {
        "text": [
          {
            "en": "üìù Opening grievance registration...",
            "hi": "üìù ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ñ‡•ã‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "grievance",
            "initState": "GrievanceStart"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "transition": [
      {
        "JumpToGrievanceSMJ": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "ExitSession",
    "preAction": [
      {
        "text": [
          {
            "en": "üôè Thank you! Your session has ended.\n\nSend \"Hi\" to restart.",
            "hi": "üôè ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶! ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§§‡•ç‡§∞ ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§\n\n‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è \"Hi\" ‡§≠‡•á‡§ú‡•á‡§Ç‡•§"
          }
        ]
      },
      {
        "function": "archive_and_end_session"
      }
    ],
    "transition": [
      {
        "ExitSession": [
          "failure"
        ]
      }
    ]
  }
]