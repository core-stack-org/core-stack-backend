[
  {
    "name": "Welcome",
    "preAction": [
      {
        "text": [
          {
            "en": ":folded_hands: Hello. Welcome to Community engagement Platform bot.",
            "hi": "नमस्कार। सामुदायिक सहभागिता प्लेटफ़ॉर्म बॉट में आपका स्वागत है।",
            "default": "Hello. Welcome to Community engagement Platform bot."
          }
        ]
      },
      {
        "menu": [
          {
            "label": "सूची से चुनें",
            "value": "state_district",
            "caption": "आपकी बेहतर सेवा के लिए, हमें आपकी लोकेशन की आवश्यकता है। आप अपनी लोकेशन कैसे भेजना चाहते हैं? \n1. आप राज्य और ज़िले की सूची में से अपनी लोकेशन चुन सकते हैं। \n2. बस अपनी लोकेशन भेजें।"
          },
          {
            "label": "स्थान भेज देंगे",
            "value": "location_pin"
          }
        ]
      }
    ],
    "postAction": [],
    "transition": [
      {
        "SendState": [
          "state_district"
        ]
      },
      {
        "SendLocationRequest": [
          "location_pin"
        ]
      },
      {
        "Welcome": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "SendState",
    "preAction": [
      {
        "function": "send_states"
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "SendDistrict": [
          "success"
        ]
      },
      {
        "SendState": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "SendDistrict",
    "preAction": [
      {
        "function": "send_districts",
        "data": {
          "getDataFrom": {"state":"SendState", "field":"misc"}
        }
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "CommunityByStateDistrict": [
          "success"
        ]
      },
      {
        "SendDistrict": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "SendLocationRequest",
    "preAction": [
      {
        "function": "send_location_request"
      }
    ],
    "postAction": [],
    "transition": [
      {
        "CommunityByLocation": [
          "success"
        ]
      },
      {
        "SendLocationRequest": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "CommunityByLocation",
    "preAction": [
      {
        "function": "send_community_by_location",
        "data": {
          "getDataFrom": {"state":"SendLocationRequest","field": "data"}
        }
      }
    ],
    "postAction": [],
    "transition": [
      {
        "CommunityByLocation": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "CommunityByStateDistrict",
    "preAction": [
      {
        "function": "send_community_by_state_district",
        "data": {
          "getDataFrom": [
            {"state":"SendState", "field":"misc"},
            {"state":"SendDistrict", "field":"misc"}
          ]
        }
      }
    ],
    "postAction": [
      {
        "function": "move_forward"
      }
    ],
    "transition": [
      {
        "AddUserToCommunity": [
          "success"
        ]
      },
      {
        "CommunityByStateDistrict": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "AddUserToCommunity",
    "preAction": [
      {
        "function": "add_user_to_community",
        "data": {
          "getDataFrom": {"state":"CommunityByStateDistrict", "field":"misc"}
        }
      }
    ],
    "postAction": [
      
    ],
    "transition": [
      {
        "PostOnboardingMenu": [
          "success"
        ]
      },
      {
        "AddUserToCommunity": [
          "failure"
        ]
      }
    ]
  },
  {
    "name": "PostOnboardingMenu",
    "preAction": [
      {
        "text": [
          {
            "hi": "बधाई हो! आप सफलतापूर्वक समुदाय में शामिल हो गए हैं।",
            "en": "Congratulations! You have successfully joined the community.",
            "default": "Congratulations! You have successfully joined the community."
          }
        ]
      },
      {
        "text": [
          {
            "hi": "आपको समुदायिक सेवाओं में स्थानांतरित कर रहे हैं...",
            "en": "Redirecting you to community services...",
            "default": "Redirecting you to community services..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "community_features",
            "initState": "ServiceMenuNew"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "postAction": [],
    "transition": []
  },
  {
    "name": "ExploreServices",
    "preAction": [
      {
        "text": [
          {
            "hi": "आपको समुदायिक सेवाओं में स्थानांतरित कर रहे हैं...",
            "en": "Redirecting you to community services...",
            "default": "Redirecting you to community services..."
          }
        ]
      },
      {
        "data": [
          {
            "smjName": "community_features",
            "initState": "CheckCommunityCount"
          }
        ],
        "function": "jumpToSmj"
      }
    ],
    "postAction": [],
    "transition": []
  }
]